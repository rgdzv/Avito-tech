(this.webpackJsonpavito=this.webpackJsonpavito||[]).push([[0],{21:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACeSURBVHgBrdLNDYMwDAXgp7Z3OoJX6SYdoRugbsBGiC24wQaswIvwKRBiGyw9RP4+JUqArX6MIF6iBh7a0TA9Yqjo2iYfaJkJPlR0TVua4EGrmAc1YxbUjZ2hYewIvYzl6C1YKmEWjdQmvwxYerSdttP/h5kR3Fl+zMjjL2JhVFC/ADNqwcyoB6uiEayIXsF26JOfLzMyf8RrYN4JXAGeMTSldnfWFAAAAABJRU5ErkJggg=="},24:function(e,t,n){e.exports=n(60)},29:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(5),r=n.n(o),l=(n(29),n(3)),i=(n(36),n(37),function(e){var t=e.src,n=e.onClick;return c.a.createElement("div",{className:"list__item"},c.a.createElement("img",{src:t,alt:t,onClick:n}))});i.defaultProps={src:"",onClick:function(){}};var u=i,m=(n(38),Object(a.memo)((function(e){var t=e.children;return c.a.createElement("div",{className:"header"},t)})));m.defaultProps={children:""};var s=m,d=(n(39),Object(a.memo)((function(e){var t=e.children;return c.a.createElement("div",{className:"footer"},t)})));d.defaultProps={children:""};var f=d,p=n(7),E=n(1),O=n(23),h=n(6),A=n.n(h),v=function(){return{type:"GET_PHOTOS_REQUEST"}},g=function(e){return{type:"GET_PHOTOS_SUCCESS",photos:e}},b=function(e){return{type:"GET_PHOTOS_FAILURE",error:e}},_=function(e){return{type:"OPEN_MODAL",data:e}},C=function(e){return{type:"OPEN_MODAL_FAILURE",error:e}},j=(n(57),n(21)),S=n.n(j),y=(n(58),function(e){var t=e.name,n=e.type,a=e.value,o=e.placeholder,r=e.onChange;return c.a.createElement("input",{name:t,type:n,value:a,placeholder:o,onChange:r})});y.defaultProps={name:"",type:"",value:"",placeholder:"",onChange:function(){}};var k=y,w=(n(59),function(e){var t=e.children;return c.a.createElement("button",null,t)});w.defaultProps={children:""};var L=w,N=function(e){var t=e.children,n=document.createElement("div");return Object(a.useEffect)((function(){return document.body.appendChild(n),function(){document.body.removeChild(n)}}),[]),r.a.createPortal(t,n)},P=function(e){var t=e.onClick,n=e.onChange,o=e.onSubmit,r=e.src,l=e.comments,i=e.name,u=e.comment,m=e.onModalClick,s=e.onLayoutClick;return c.a.createElement(N,null,c.a.createElement("div",{className:"modal__layout",onClick:s},c.a.createElement("div",{className:"modal__window",onClick:m},c.a.createElement("div",{className:"modal__content"},c.a.createElement("div",{className:"modal__item"},c.a.createElement("img",{src:r,alt:r}),c.a.createElement("div",{className:"modal__comments"},c.a.createElement("div",{className:"modal__comment"},l.map((function(e){return c.a.createElement(a.Fragment,{key:e.id},c.a.createElement("p",null,new Date(e.date).toLocaleDateString()),c.a.createElement("p",null,e.text))}))))),c.a.createElement("form",{onSubmit:o},c.a.createElement(k,{name:"name",type:"text",value:i,placeholder:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",onChange:n}),c.a.createElement(k,{name:"comment",type:"text",value:u,placeholder:"\u0412\u0430\u0448 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",onChange:n}),c.a.createElement(L,null,"\u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439")),c.a.createElement("img",{className:"close",src:S.a,alt:"close",onClick:t})))))};P.defaultProps={onClick:function(){},onModalClick:function(){},src:"",comments:[],onChange:function(){},name:"",comment:"",onSubmit:function(){},onLayoutClick:function(){}};var T=P,M=function(){var e=Object(a.useState)({name:"",comment:""}),t=Object(O.a)(e,2),n=t[0],o=t[1],r=Object(l.c)((function(e){return e.modal})),i=r.photo,u=r.isOpen,m=Object(l.b)();Object(a.useEffect)((function(){return u&&(document.body.style.overflow="hidden"),function(){document.body.style.overflow="auto"}}),[]);return c.a.createElement(T,{onClick:function(){m({type:"CLOSE_MODAL"})},onLayoutClick:function(e){m({type:"CLOSE_MODAL"}),e.stopPropagation()},onModalClick:function(e){e.stopPropagation()},src:i.url,comments:i.comments,name:n.name,comment:n.comment,onChange:function(e){var t=e.target,a=t.value,c=t.name;return o(Object(E.a)(Object(E.a)({},n),{},Object(p.a)({},c,a)))},onSubmit:function(e){e.preventDefault(),A.a.post("https://boiling-refuge-66454.herokuapp.com/images/".concat(i.id,"/comments"),{name:n.name,comment:n.comment,date:Date.parse(String(new Date))}),o({name:"",comment:""})}})},R=function(){var e=Object(l.c)((function(e){return e.photos})),t=e.isFetching,n=e.error,o=Object(l.c)((function(e){return e.photos.photos})),r=Object(l.c)((function(e){return e.modal})).isOpen,i=Object(l.b)();Object(a.useEffect)((function(){i((function(e){e(v()),A.a.get("https://boiling-refuge-66454.herokuapp.com/images").then((function(t){var n=t.data;e(g(n))})).catch((function(t){e(b(t.message))}))}))}),[]);var m=function(e){i(function(e){return function(t){A.a.get("https://boiling-refuge-66454.herokuapp.com/images/".concat(e)).then((function(e){var n=e.data;t(_(n))})).catch((function(e){t(C(e.message))}))}}(e))};return c.a.createElement("div",{className:"container"},c.a.createElement(s,null,"Test App"),c.a.createElement("div",{className:"list__content"},t?c.a.createElement("p",null,"Loading..."):n?c.a.createElement("p",null,n):o.map((function(e){var t=e.id,n=e.url;return c.a.createElement(u,{key:t,src:n,onClick:function(){return m(t)}})}))),c.a.createElement(f,null,"\xa9 2019-2020"),r&&c.a.createElement(M,null))},D=n(4),U=n(22),F={photos:[],isFetching:!1,error:null},Y={photo:null,isOpen:!1,error:null},B=Object(D.c)({photos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.photos,c=t.error;switch(n){case"GET_PHOTOS_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{isFetching:!0});case"GET_PHOTOS_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{photos:a,isFetching:!1,error:null});case"GET_PHOTOS_FAILURE":return Object(E.a)(Object(E.a)({},e),{},{isFetching:!1,error:c});default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_MODAL":return Object(E.a)(Object(E.a)({},e),{},{photo:t.data,isOpen:!0,error:null});case"OPEN_MODAL_FAILURE":return Object(E.a)(Object(E.a)({},e),{},{error:t.error});case"CLOSE_MODAL":return Object(E.a)(Object(E.a)({},e),{},{photo:null,isOpen:!1,error:null});default:return e}}}),I=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||D.d,G=Object(D.e)(B,I(Object(D.a)(U.a)));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(l.a,{store:G},c.a.createElement(R,null))),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.f52c6f60.chunk.js.map